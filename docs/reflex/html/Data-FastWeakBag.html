<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.FastWeakBag</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-FastWeakBag.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Data-FastWeakBag.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">reflex-0.5: Higher-order Functional Reactive Programming</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Data.FastWeakBag</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Internal functions</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module defines the <code><a href="Data-FastWeakBag.html#t:FastWeakBag">FastWeakBag</a></code> type, which represents a mutable
 collection of items that does not cause the items to be retained in memory.
 This is useful for situations where a value needs to be inspected or modified
 if it is still alive, but can be ignored if it is dead.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:FastWeakBag">FastWeakBag</a> a</li><li class="src short"><span class="keyword">data</span> <a href="#t:FastWeakBagTicket">FastWeakBagTicket</a> a</li><li class="src short"><a href="#v:empty">empty</a> :: <a href="file:///nix/store/yl5m2cp3zsx9zgndv7f2q06b5w6n9vh2-ghc-8.0.2-doc/share/doc/ghc/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> (<a href="Data-FastWeakBag.html#t:FastWeakBag">FastWeakBag</a> a)</li><li class="src short"><a href="#v:isEmpty">isEmpty</a> :: <a href="Data-FastWeakBag.html#t:FastWeakBag">FastWeakBag</a> a -&gt; <a href="file:///nix/store/yl5m2cp3zsx9zgndv7f2q06b5w6n9vh2-ghc-8.0.2-doc/share/doc/ghc/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="file:///nix/store/yl5m2cp3zsx9zgndv7f2q06b5w6n9vh2-ghc-8.0.2-doc/share/doc/ghc/html/libraries/base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:insert">insert</a> :: a -&gt; <a href="Data-FastWeakBag.html#t:FastWeakBag">FastWeakBag</a> a -&gt; <a href="file:///nix/store/yl5m2cp3zsx9zgndv7f2q06b5w6n9vh2-ghc-8.0.2-doc/share/doc/ghc/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> (<a href="Data-FastWeakBag.html#t:FastWeakBagTicket">FastWeakBagTicket</a> a)</li><li class="src short"><a href="#v:traverse">traverse</a> :: <span class="keyword">forall</span> a m. <a href="file:///nix/store/yl5m2cp3zsx9zgndv7f2q06b5w6n9vh2-ghc-8.0.2-doc/share/doc/ghc/html/libraries/base-4.9.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Data-FastWeakBag.html#t:FastWeakBag">FastWeakBag</a> a -&gt; (a -&gt; m ()) -&gt; m ()</li><li class="src short"><a href="#v:remove">remove</a> :: <a href="Data-FastWeakBag.html#t:FastWeakBagTicket">FastWeakBagTicket</a> a -&gt; <a href="file:///nix/store/yl5m2cp3zsx9zgndv7f2q06b5w6n9vh2-ghc-8.0.2-doc/share/doc/ghc/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:_weakBag_children">_weakBag_children</a> :: <a href="Data-FastWeakBag.html#t:FastWeakBag">FastWeakBag</a> a -&gt; <a href="file:///nix/store/yl5m2cp3zsx9zgndv7f2q06b5w6n9vh2-ghc-8.0.2-doc/share/doc/ghc/html/libraries/base-4.9.1.0/Data-IORef.html#t:IORef">IORef</a> (<a href="file:///nix/store/yl5m2cp3zsx9zgndv7f2q06b5w6n9vh2-ghc-8.0.2-doc/share/doc/ghc/html/libraries/containers-0.5.7.1/Data-IntMap-Lazy.html#t:IntMap">IntMap</a> (<a href="file:///nix/store/yl5m2cp3zsx9zgndv7f2q06b5w6n9vh2-ghc-8.0.2-doc/share/doc/ghc/html/libraries/base-4.9.1.0/System-Mem-Weak.html#t:Weak">Weak</a> a))</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:FastWeakBag" class="def">FastWeakBag</a> a <a href="src/Data-FastWeakBag.html#FastWeakBag" class="link">Source</a> <a href="#t:FastWeakBag" class="selflink">#</a></p><div class="doc"><p>A <code>FastWeakBag a</code> holds a set of values of type <code>a</code>, but does not retain them -
 that is, they can still be garbage-collected.  As long as the <code>a</code>s remain
 alive, the <code><a href="Data-FastWeakBag.html#t:FastWeakBag">FastWeakBag</a></code> will continue to refer to them.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:FastWeakBagTicket" class="def">FastWeakBagTicket</a> a <a href="src/Data-FastWeakBag.html#FastWeakBagTicket" class="link">Source</a> <a href="#t:FastWeakBagTicket" class="selflink">#</a></p><div class="doc"><p>When inserting an item into a <code><a href="Data-FastWeakBag.html#t:FastWeakBag">FastWeakBag</a></code>, a <code><a href="Data-FastWeakBag.html#t:FastWeakBagTicket">FastWeakBagTicket</a></code> is returned.  If
 the caller retains the ticket, the item is guranteed to stay in memory (and
 thus in the <code><a href="Data-FastWeakBag.html#t:FastWeakBag">FastWeakBag</a></code>).  The ticket can also be used to remove the item from
 the <code><a href="Data-FastWeakBag.html#t:FastWeakBag">FastWeakBag</a></code> prematurely (i.e. while it is still alive), using <code><a href="Data-FastWeakBag.html#v:remove">remove</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:empty" class="def">empty</a> :: <a href="file:///nix/store/yl5m2cp3zsx9zgndv7f2q06b5w6n9vh2-ghc-8.0.2-doc/share/doc/ghc/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> (<a href="Data-FastWeakBag.html#t:FastWeakBag">FastWeakBag</a> a) <a href="src/Data-FastWeakBag.html#empty" class="link">Source</a> <a href="#v:empty" class="selflink">#</a></p><div class="doc"><p>Create an empty <code><a href="Data-FastWeakBag.html#t:FastWeakBag">FastWeakBag</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:isEmpty" class="def">isEmpty</a> :: <a href="Data-FastWeakBag.html#t:FastWeakBag">FastWeakBag</a> a -&gt; <a href="file:///nix/store/yl5m2cp3zsx9zgndv7f2q06b5w6n9vh2-ghc-8.0.2-doc/share/doc/ghc/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="file:///nix/store/yl5m2cp3zsx9zgndv7f2q06b5w6n9vh2-ghc-8.0.2-doc/share/doc/ghc/html/libraries/base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/Data-FastWeakBag.html#isEmpty" class="link">Source</a> <a href="#v:isEmpty" class="selflink">#</a></p><div class="doc"><p>Check whether a <code><a href="Data-FastWeakBag.html#t:FastWeakBag">FastWeakBag</a></code> is empty.</p></div></div><div class="top"><p class="src"><a id="v:insert" class="def">insert</a> <a href="src/Data-FastWeakBag.html#insert" class="link">Source</a> <a href="#v:insert" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: a</td><td class="doc"><p>The item</p></td></tr><tr><td class="src">-&gt; <a href="Data-FastWeakBag.html#t:FastWeakBag">FastWeakBag</a> a</td><td class="doc"><p>The <code><a href="Data-FastWeakBag.html#t:FastWeakBag">FastWeakBag</a></code> to insert into</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/yl5m2cp3zsx9zgndv7f2q06b5w6n9vh2-ghc-8.0.2-doc/share/doc/ghc/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> (<a href="Data-FastWeakBag.html#t:FastWeakBagTicket">FastWeakBagTicket</a> a)</td><td class="doc"><p>Returns a <code><a href="Data-FastWeakBag.html#t:FastWeakBagTicket">FastWeakBagTicket</a></code> that ensures the item
 is retained and allows the item to be removed.</p></td></tr></table></div><div class="doc"><p>Insert an item into a <code><a href="Data-FastWeakBag.html#t:FastWeakBag">FastWeakBag</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:traverse" class="def">traverse</a> :: <span class="keyword">forall</span> a m. <a href="file:///nix/store/yl5m2cp3zsx9zgndv7f2q06b5w6n9vh2-ghc-8.0.2-doc/share/doc/ghc/html/libraries/base-4.9.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Data-FastWeakBag.html#t:FastWeakBag">FastWeakBag</a> a -&gt; (a -&gt; m ()) -&gt; m () <a href="src/Data-FastWeakBag.html#traverse" class="link">Source</a> <a href="#v:traverse" class="selflink">#</a></p><div class="doc"><p>Visit every node in the given list.  If new nodes are appended during the
 traversal, they will not be visited.  Every live node that was in the list
 when the traversal began will be visited exactly once; however, no guarantee
 is made about the order of the traversal.</p></div></div><div class="top"><p class="src"><a id="v:remove" class="def">remove</a> :: <a href="Data-FastWeakBag.html#t:FastWeakBagTicket">FastWeakBagTicket</a> a -&gt; <a href="file:///nix/store/yl5m2cp3zsx9zgndv7f2q06b5w6n9vh2-ghc-8.0.2-doc/share/doc/ghc/html/libraries/base-4.9.1.0/System-IO.html#t:IO">IO</a> () <a href="src/Data-FastWeakBag.html#remove" class="link">Source</a> <a href="#v:remove" class="selflink">#</a></p><div class="doc"><p>Remove an item from the <code><a href="Data-FastWeakBag.html#t:FastWeakBag">FastWeakBag</a></code>; does nothing if invoked multiple times
 on the same <code><a href="Data-FastWeakBag.html#t:FastWeakBagTicket">FastWeakBagTicket</a></code>.</p></div></div><h1 id="g:1">Internal functions</h1><div class="top"><p class="src"><a id="v:_weakBag_children" class="def">_weakBag_children</a> :: <a href="Data-FastWeakBag.html#t:FastWeakBag">FastWeakBag</a> a -&gt; <a href="file:///nix/store/yl5m2cp3zsx9zgndv7f2q06b5w6n9vh2-ghc-8.0.2-doc/share/doc/ghc/html/libraries/base-4.9.1.0/Data-IORef.html#t:IORef">IORef</a> (<a href="file:///nix/store/yl5m2cp3zsx9zgndv7f2q06b5w6n9vh2-ghc-8.0.2-doc/share/doc/ghc/html/libraries/containers-0.5.7.1/Data-IntMap-Lazy.html#t:IntMap">IntMap</a> (<a href="file:///nix/store/yl5m2cp3zsx9zgndv7f2q06b5w6n9vh2-ghc-8.0.2-doc/share/doc/ghc/html/libraries/base-4.9.1.0/System-Mem-Weak.html#t:Weak">Weak</a> a)) <a href="src/Data-FastWeakBag.html#_weakBag_children" class="link">Source</a> <a href="#v:_weakBag_children" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>